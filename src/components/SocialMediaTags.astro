---
export interface Props {
  title: string;
  description: string;
  image?: string;
  url: string;
  type?: 'website' | 'article';
  author?: string;
  publishedTime?: string;
  modifiedTime?: string;
}

const { 
  title, 
  description, 
  image = '/assets/NEXITAS circle.png', 
  url, 
  type = 'website',
  author,
  publishedTime,
  modifiedTime
} = Astro.props;

// Ensure absolute URL for image
const fullImageUrl = image.startsWith('http') 
  ? image 
  : new URL(image, Astro.site || 'https://azoth-ai.vercel.app').toString();

// Ensure absolute URL for page
const fullPageUrl = url.startsWith('http') 
  ? url 
  : new URL(url, Astro.site || 'https://azoth-ai.vercel.app').toString();
---

<!-- X (formerly Twitter) Cards -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@nexitas" />
<meta name="twitter:creator" content="@nexitas" />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={fullImageUrl} />
<meta name="twitter:url" content={fullPageUrl} />

<!-- Facebook/LinkedIn Open Graph -->
<meta property="og:type" content={type} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={fullImageUrl} />
<meta property="og:url" content={fullPageUrl} />
<meta property="og:site_name" content="Nexitas" />

<!-- Image dimensions for better social media display -->
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:image:type" content="image/png" />

<!-- LinkedIn specific optimizations -->
<meta property="og:image:alt" content={`${title} - Nexitas Automation Solutions`} />

<!-- Article-specific meta tags -->
{type === 'article' && (
  <>
    {author && <meta property="article:author" content={author} />}
    {publishedTime && <meta property="article:published_time" content={publishedTime} />}
    {modifiedTime && <meta property="article:modified_time" content={modifiedTime} />}
    <meta property="article:publisher" content="https://azoth-ai.vercel.app" />
    <meta property="article:section" content="Automation & AI" />
    <meta property="article:tag" content="automation" />
    <meta property="article:tag" content="AI" />
    <meta property="article:tag" content="business process" />
  </>
)}

<!-- Facebook App ID (optional - replace with actual ID if available) -->
<!-- <meta property="fb:app_id" content="your-facebook-app-id" /> -->

<!-- Additional social media optimizations -->
<meta name="twitter:image:alt" content={`${title} - Nexitas`} />

<!-- Instagram specific (uses Open Graph) -->
<!-- Instagram will use the og: tags above -->

<!-- Professional/Business focus tags -->
<meta property="og:locale" content="en_US" />
<meta name="twitter:domain" content="azoth-ai.vercel.app" />

<!-- WhatsApp/Telegram sharing optimization -->
<meta property="og:image:secure_url" content={fullImageUrl} />